 :root{
      --red:#E31B23;
      --yellow:#FFD700;
      --bg:#fff8e6;
      --pole:#3b2f2f;
      --safe-bottom: env(safe-area-inset-bottom, 0px);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family:'Noto Sans Kannada',sans-serif;
      background:var(--bg);
      color:#222;
      -webkit-font-smoothing:antialiased;
      display:flex;
      flex-direction:column;
      min-height:100vh;
      overflow-x:hidden; /* avoid accidental horizontal scroll */
    }

    .hero{
      background: linear-gradient(180deg,var(--red),var(--yellow));
      padding:24px 16px 36px;
      text-align:center;
      position:relative;
      overflow:visible;
    }

    .flag-area{
      position:relative;
      width:90%;
      max-width:760px;
      height:180px;
      margin:0 auto 10px;
      display:flex;
      align-items:stretch;
      justify-content:center;
    }

    #flag-canvas{
      width:100%;
      height:100%;
      display:block;
      border-radius:6px;
      box-shadow:0 10px 30px rgba(0,0,0,0.14);
      background:transparent;
      overflow:hidden;
    }

    /* pole: ensure it doesn't cause overflow on small screens */
    .flag-pole{
      position:absolute;
      left:calc(-22px + 0px);
      top:8px;
      bottom:8px;
      width:8px;
      background:linear-gradient(#3b2f2f,#1f1515);
      border-radius:4px;
      box-shadow:inset 0 0 3px rgba(255,255,255,0.05), 0 4px 8px rgba(0,0,0,0.15);
      pointer-events:none;
    }

    .jai-karnataka{
      display:inline-block;
      font-weight:800;
      font-size:1.4rem;
      color:#fff;
      margin-top:6px;
      padding:6px 14px;
      border-radius:28px;
      background:rgba(0,0,0,0.12);
      opacity:0;
      transform:translateY(-8px) scale(.96);
    }
    .jai-karnataka.show{animation:jaiPop .7s cubic-bezier(.16,.9,.34,1) forwards}
    @keyframes jaiPop{
      0%{opacity:0;transform:translateY(-12px) scale(.8)}
      60%{opacity:1;transform:translateY(3px) scale(1.06)}
      100%{opacity:1;transform:translateY(0) scale(1)}
    }

    .title{font-size:1.6rem;margin-top:8px;color:#fff}
    .subtitle{margin-top:6px;color:#fff}

    main.content{
      padding:18px 20px;
      text-align:center;
      flex:1 0 auto;
    }

    .content .info{
      margin-bottom:16px;
      font-size:1.05rem;
    }

    .open-btn{
      position:fixed;
      left:50%;
      transform:translateX(-50%);
      bottom:calc(18px + var(--safe-bottom));
      background:var(--red);
      color:white;
      border:none;
      padding:12px 20px;
      border-radius:28px;
      font-size:18px;
      cursor:pointer;
      box-shadow:0 12px 30px rgba(0,0,0,0.2);
      opacity:0;
      visibility:hidden;
      transition:all .28s;
      z-index:60;
      min-height:48px; /* ensure adequate tap target */
      line-height:1;
    }
    .open-btn.show{opacity:1;visibility:visible;transform:translateX(-50%) translateY(-6px)}

    .overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.46);backdrop-filter:blur(3px);opacity:0;visibility:hidden;transition:all .24s;z-index:80}
    .overlay.show{opacity:1;visibility:visible}

    .invite-card{
      background:#fff;padding:18px;border-radius:12px;max-width:640px;width:calc(100% - 48px);position:relative;box-shadow:0 20px 60px rgba(0,0,0,0.28);text-align:left;
    }
    .invite-card h2{color:var(--red)}
    .close{position:absolute;right:12px;top:10px;background:none;border:none;font-size:18px;cursor:pointer}
    #confetti-canvas{position:absolute;inset:0;z-index:79;pointer-events:none}

    .footer{
      text-align:center;
      padding:10px 8px;
      background:#fff4d9;
      opacity:.95;
      font-size:.95rem;
      flex-shrink:0;
    }

    @media (max-width:640px){
      .flag-area{height:140px;width:92%}
      .title{font-size:1.2rem}
      .jai-karnataka{font-size:1rem}
      .open-btn{font-size:16px;padding:10px 18px;bottom:calc(12px + var(--safe-bottom))}
      .flag-pole{left:-14px} /* less negative on small screens */
    }